{% extends 'base.html' %}

{% block title %}
    Teachers      
{% endblock %}

{% block content %}
<style>
    body.dark-mode h2, body.dark-mode h3{
        color: white;
    }
</style>
<div class="container">

    <div class="card form-card">
        <h2 class="title">All Teachers</h2>
        <h3 class="subtitle">Add Teacher</h3>
        <form method="POST" action="/add_teacher" class="form-grid">
            

            <div class="form-group">
                <input type="text" name="name" placeholder="Name" required pattern="[A-Za-z .-']+" title="eg. Geeta Naik">
            </div>
            <div class="form-group">
                <input type="text" name="subject" placeholder="Subject" required pattern="[A-Za-z .-']+" title="eg. Android">
            </div>
            <div class="form-group">
                <input type="email" name="email" placeholder="Email">
            </div>
            <div class="form-group">
                <input type="text" name="availability" placeholder="Availability (Optional)">
            </div>
            <div class="form-group full-width">
                <button type="submit" class="btn">Add Teacher</button>
            </div>
        </form>
    </div>

    <div class="card table-card">
        <table class="styled-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Subject</th>
                    <th>Email</th>
                    <th>Availability</th>
                    <th colspan="2">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for t in teachers %}
                <tr>
                    <td>{{ t[1] }}</td>
                    <td>{{ t[2] }}</td>
                    <td>{{ t[3] }}</td>
                    <td>{{ t[4] or 'N/A' }}</td>
                    <td><a href="/edit_teacher/{{ t[0] }}" class="btn edit-btn">Edit</a></td>
                    <td><a href="/delete_teacher/{{ t[0] }}" onclick="return confirm('Are you sure you want to delete {{ t[1] }}?')" class="btn delete-btn">Delete</a></td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="btn-container">
            <a href="/dashboard" class="btn back-btn">Back to Dashboard</a>
        </div>
    </div>

</div>
{% endblock %}